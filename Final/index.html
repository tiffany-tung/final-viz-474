<!DOCTYPE html>
<meta charset="utf-8">
<style> /* set the CSS */
body { font: 12px Arial;}
path1 { 
    stroke: steelblue;
    stroke-width: 2;
    fill: none;
}
path2 { 
    stroke: steelblue;
    stroke-width: 2;
    fill: none;
}
.axis path,
.axis line {
    fill: none;
    stroke: grey;
    stroke-width: 1;
    shape-rendering: crispEdges;
}
</style>
<body>

<!-- load the d3.js library -->    
<script src="http://d3js.org/d3.v3.min.js"></script>

<script>
var dispatch = d3.dispatch("load", "statechange");

var groups = [
  "male",
  "female"
];

var data = [
  {id: "Google", male: 70, female: 30},
  {id: "Cisco", male: 77, female: 23},
  {id: "Intel", male: 76, female: 24},
  {id: "Microsoft", male: 72, female: 28},
  {id: "Apple", male: 70, female: 30},
  {id: "Twitter", male: 70, female: 33},
  {id: "Facebook", male: 69, female: 31},
  {id: "HP", male: 67, female: 33},
  {id: "Yahoo", male: 62, female: 38},
  {id: "LinkedIn", male: 61, female: 39},
  {id: "Pinterest", male: 60, female: 40},
  {id: "eBay", male: 58, female: 42}
]

var companyData = d3.map();
data.forEach(function(d) { companyData.set(d.id, d); });
dispatch.load(companyData);
dispatch.statechange(companyData.get("Google"));

// A drop-down menu for selecting a state; uses the "menu" namespace.
dispatch.on("load.menu", function(companyData) {
  var select = d3.select("body")
    .append("div")
    .append("select")
      .on("change", function() { dispatch.statechange(companyData.get(this.value)); });

  select.selectAll("option")
      .data(companyData.values())
    .enter().append("option")
      .attr("value", function(d) { return d.id; })
      .text(function(d) { return d.id; });

  dispatch.on("statechange.menu", function(state) {
    select.property("value", state.id);
  });
});

// A pie chart to show population by age group; uses the "pie" namespace.
// dispatch.on("load.pie", function(stateById) {
//   var width = 880,
//       height = 460,
//       radius = Math.min(width, height) / 2;

//   var color = d3.scale.ordinal()
//       .domain(groups)
//       .range(["#98abc5", "#8a89a6"]);

//   var arc = d3.svg.arc()
//       .outerRadius(radius - 10)
//       .innerRadius(radius - 70);

//   var pie = d3.layout.pie()
//       .sort(null);

//   var svg = d3.select("body").append("svg")
//       .attr("width", width)
//       .attr("height", height)
//     .append("g")
//       .attr("transform", "translate(" + width / 2 + "," + height / 2 + ")");

//   var path = svg.selectAll("path")
//       .data(groups)
//     .enter().append("path")
//       .style("fill", color)
//       .each(function() { this._current = {startAngle: 0, endAngle: 0}; });

//   dispatch.on("statechange.pie", function(d) {
//     path.data(pie.value(function(g) { return d[g]; })(groups)).transition()
//         .attrTween("d", function(d) {
//           var interpolate = d3.interpolate(this._current, d);
//           this._current = interpolate(0);
//           return function(t) {
//             return arc(interpolate(t));
//           };
//         });
//   });
// });
</script>
</body>